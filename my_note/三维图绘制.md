
<pre class="vditor-reset" placeholder="" contenteditable="true" spellcheck="false"><h1 data-block="0" id="wysiwyg-三维图绘制方法_0" data-marker="#">三维图绘制方法</h1><h3 data-block="0" id="wysiwyg-通过svisual得到一定数量的CSV_1" data-marker="#">通过svisual得到一定数量的CSV</h3><div class="vditor-wysiwyg__block" data-type="code-block" data-block="0" data-marker="```"><pre class="vditor-wysiwyg__preview" data-render="1"><code class="language-scheme{.line-numbers}">#setdep @previous@

load_file ./MOS1_n@node|SC@_des.tdr -name  plot_n@node@_tdr
create_plot -dataset plot_n@node@_tdr -name plot_n@node@
select_plots {plot_n@node@}
set_field_prop -plot plot_n@node@ -geom plot_n@node@_tdr ElectricField -show_bands

if {@x1@ > @x0@} {
set xmaxval @x1@
set xminval @x0@
}
if {@x1@ < @x0@} {
set xmaxval @x0@
set xminval @x1@
}
if {@y1@ > @y0@} {
set ymaxval @y0@
set yminval @y1@
}
if {@y1@ < @y0@} {
set ymaxval @y0@
set yminval @y1@
}
set fx  [expr 1.0*($xmaxval-$xminval)/@number@]
for {set i 0} {$i < @number@} {incr i} {
set m [expr $i*$fx]
set k [expr $xminval+$m]
create_cutline -plot plot_n@node@ -type x -at $k  -name C1(plot_n@node@)_$i
create_plot -dataset C1(plot_n@node@)_$i -1d -name c1_tdr_$i
select_plots "{c1_tdr_$i}"
create_curve -plot c1_tdr_$i -dataset "{C1(plot_n@node@)_$i}" -axisX Y -axisY ElectricField -name 1121
export_curves {1121} -plot c1_tdr_$i -filename ./data/$k.csv -format csv -overwrite

remove_curves -plot c1_tdr_$i {1121}
select_plots {plot_n@node@}
remove_plots "{c1_tdr_$i}"
remove_datasets "{C1(plot_n@node@)_$i}"
puts "##############################"
puts "final $i"
}
remove_plots plot_n@node@
</code></pre></div><h3 data-block="0" id="wysiwyg-利用python对CSV进行处理_3" data-marker="#">利用python对CSV进行处理</h3><div class="vditor-wysiwyg__block" data-type="code-block" data-block="0" data-marker="```"><pre class="vditor-wysiwyg__preview" data-render="1"><code class="language-scheme{.line-numbers}">import os
